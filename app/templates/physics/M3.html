<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏—Å—Å–∏—è –Ω–∞ –ú–∞—Ä—Å</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', path='css/physics.css') }}">
</head>
<body>
    <div class="container">
        <h1>üöÄ –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ—Ç–∞ –Ω–∞ –ú–∞—Ä—Å</h1>

        <div class="mission-control">
            <div class="input-panel">
                <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∏—Å—Å–∏–∏</h2>

                <div class="input-section">
                    <div class="input-group">
                        <label for="initial_mass">–ù–∞—á–∞–ª—å–Ω–∞—è –º–∞—Å—Å–∞ (–∫–≥):</label>
                        <input type="number" id="initial_mass" value="1000000" step="1000">
                    </div>
                    <div class="input-group">
                        <label for="landing_mass">–ú–∞—Å—Å–∞ –ø–æ–ª–µ–∑–Ω–æ–≥–æ –≥—Ä—É–∑–∞ (–∫–≥):</label>
                        <input type="number" id="landing_mass" value="1" step="100">
                    </div>
                    <div class="input-group">
                        <label for="gases_velocity">–°–∫–æ—Ä–æ—Å—Ç—å –≤—ã–ª–µ—Ç–∞ –≥–∞–∑–æ–≤ (–º/—Å):</label>
                        <input type="number" id="gases_velocity" value="20000" step="1">
                    </div>
                    <div class="input-group">
                        <label for="velocity">–°–∫–æ—Ä–æ—Å—Ç—å –≤–∑–ª—ë—Ç–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ó–µ–º–ª–∏ (–º/—Å):</label>
                        <input type="number" id="velocity" value="6350" step="1">
                    </div>
                    <div class="input-group">
                        <label for="landing_velocity">–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Å–∞–¥–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ú–∞—Ä—Å–∞ (–º/—Å):</label>
                        <input type="number" id="landing_velocity" value="1350" step="1">
                    </div>
                </div>

                <div class="input-section">
                    <h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                    <div class="checkbox-group">
                        <input type="checkbox" id="include_atmosphere">
                        <label for="include_atmosphere">–£—á–µ—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã –ø–ª–∞–Ω–µ—Ç</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="bounded_overload">
                        <label for="bounded_overload">–û–≥—Ä–∞–Ω–∏—á–∏—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∑–∫—É –¥–ª—è –ø–∏–ª–æ—Ç–∞</label>
                    </div>
                </div>

                <div class="input-section">
                    <h3>–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                    <div class="input-group">
                        <label for="safety_margin">–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ (%):</label>
                        <input type="number" id="safety_margin" value="60" step="0.5" min="1">
                    </div>
                    <div class="input-group">
                        <label for="max_landing_velocity">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø–æ—Å–∞–¥–∫–∏ (–º/c):</label>
                        <input type="number" id="max_landing_velocity" value="0.8" step="0.001" min="0.001">
                    </div>
                    <div class="input-group">
                        <label for="max_dm_dt">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞ –æ—Ç –º–∞—Å—Å—ã –∫–æ—Ä–∞–±–ª—è (%):</label>
                        <input type="number" id="max_dm_dt" value="10" step="0.1" min="1" max="100">
                    </div>
                </div>

                <div class="button-group">
                    <button onclick="startMission()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏—Å—Å–∏—é</button>
                    <button onclick="pauseMission()" class="btn-pause">–ü–∞—É–∑–∞</button>
                    <button onclick="resetMission()" class="btn-reset">–°–±—Ä–æ—Å</button>
                </div>
            </div>

            <div class="results-panel">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏—Å—Å–∏–∏</h2>
                <div id="mission-stats">
                    <div class="stat-item">
                        <span class="stat-label">–û–±—â–µ–µ –≤—Ä–µ–º—è:</span>
                        <span class="stat-value" id="total-time">-</span>
                    </div>
                    <div class="stat-item" style="display: grid;">
                        <span class="stat-label">–ò–∑—Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–æ —Ç–æ–ø–ª–∏–≤–∞:</span>
                        <span>–í—Å–µ–≥–æ: <span class="stat-value" id="fuel-consumed">-</span></span>
                        <span>–î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞ –æ—Ä–±–∏—Ç—É: <span class="stat-value" id="fuel-consumed-earth">-</span></span>
                        <span>–ù–∞ –ø–æ—Å–∞–¥–∫—É: <span class="stat-value" id="fuel-consumed-mars">-</span></span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞:</span>
                        <span class="stat-value" id="max-acceleration">-</span>
                    </div>
                </div>

                <div class="phase-indicators">
                    <div class="phase-indicator" id="phase-launch">
                        <span>üöÄ –ó–∞–ø—É—Å–∫</span>
                    </div>
                    <div class="phase-indicator" id="phase-transfer">
                        <span>üåå –ü–µ—Ä–µ–ª–µ—Ç</span>
                    </div>
                    <div class="phase-indicator" id="phase-landing">
                        <span>üî¥ –ü–æ—Å–∞–¥–∫–∞</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="visualization">
            <h2>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∏—Å—Å–∏–∏</h2>

            <div class="animation-controls">
                <label for="animation-speed">–°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏:</label>
                <input type="range" id="animation-speed" min="1" max="100" value="10">
                <span id="speed-value">10x</span>
            </div>

            <div class="canvas-container">
                <canvas id="missionCanvas" width="1000" height="600"></canvas>
            </div>

            <div class="real-time-data">
                <h3>–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                <div class="real-time-stats">
                    <span>–í—ã—Å–æ—Ç–∞: <span id="current-altitude">-</span> –∫–º</span>
                    <span>–°–∫–æ—Ä–æ—Å—Ç—å: <span id="current-velocity">-</span> –∫–º/—Å</span>
                    <span>–£—Å–∫–æ—Ä–µ–Ω–∏–µ: <span id="current-overload">-</span> –º/c<sup>2</sup></span>
                    <span>–ú–∞—Å—Å–∞: <span id="current-mass">-</span> –∫–≥</span>
                    <span>–í—Ä–µ–º—è: <span id="current-time">-</span> –¥–Ω–µ–π</span>
                </div>
            </div>
        </div>

        <div class="charts">
            <div class="chart-container">
                <h2>–°–∫–æ—Ä–æ—Å—Ç—å –∏ –º–∞—Å—Å–∞</h2>
                <canvas id="velocityMassChart"></canvas>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', path='js/physics/M3.js') }}" defer></script>
</body>
</html>