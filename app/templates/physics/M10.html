<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üßä 3D –°–ø–∏–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—É–±–∞</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/physics.css') }}">
</head>
<body>
    <div class="container">
      <h1>üßä 3D –°–ø–∏–Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—É–±–∞</h1>

      <div id="status" class="status-line idle">
        ‚è∏Ô∏è –†–µ–∂–∏–º –æ–∂–∏–¥–∞–Ω–∏—è
      </div>
    <div style="display: flex;">

      <div class="visualization animation-container">
        <h3>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã (2D –ø—Ä–æ–µ–∫—Ü–∏—è)</h3>
        <p style="text-align: center; color: var(--color-accent-2); font-size: 0.9em;">
          –ö–∞–∂–¥—ã–π –ø–∏–∫—Å–µ–ª—å = –æ–¥–∏–Ω —Å—Ç–æ–ª–±–µ—Ü —Å–ø–∏–Ω–æ–≤ –≤ 3D –∫—É–±–µ. <strong>–¶–≤–µ—Ç</strong> –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ –ø–æ–ª—è (–∫—Ä–∞—Å–Ω—ã–π) –∏ –ø–æ –ø–æ–ª—é (—Å–∏–Ω–∏–π).<br>
          –°—Ç—Ä–µ–ª–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ä–µ–¥–Ω–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏–Ω–æ–≤ –≤ —Å—Ç–æ–ª–±—Ü–µ.
        </p>
        <div class="canvas-container">
          <canvas id="canvas" style="min-height: 60%; min-width: 60%; align-content: center;"></canvas>
        </div>
        <div class="legend real-time-data">
          <div class="real-time-stats">
            <div class="legend-item">
              <div class="legend-color" style="background: rgb(255, 0, 0);"></div>
              <div class="legend-text">–°–ø–∏–Ω—ã –ø—Ä–æ—Ç–∏–≤ –ø–æ–ª—è - –∫—Ä–∞—Å–Ω—ã–π</div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: rgb(0, 0, 255);"></div>
              <div class="legend-text">–°–ø–∏–Ω—ã –ø–æ –ø–æ–ª—é - —Å–∏–Ω–∏–π</div>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: linear-gradient(to left top, rgb(255, 0, 0), rgb(0, 0, 255));"></div>
              <div class="legend-text">–°–º–µ—à–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ - –≥—Ä–∞–¥–∏–µ–Ω—Ç</div>
            </div>
          </div>
        </div>
      </div>

      <div class="input-panel mission-control">
        <div class="input-section">
          <h3>‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã</h3>
          <div class="input-group">
            <div class="input-group inline">
              <label for="temperature">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (K):</label>
              <input type="range" id="temperature" min="1" max="800" step="1" value="300">
              <span class="value-display" id="tempValue">300 K</span>
            </div>
            <div class="input-group inline">
              <label for="fieldStrength">–ú–∞–≥–Ω–∏—Ç–Ω–æ–µ –ø–æ–ª–µ (T):</label>
              <input type="range" id="fieldStrength" min="-200" max="200" step="0.5" value="0">
              <span class="value-display" id="fieldValue">0.0 T</span>
            </div>
            <div class="input-group inline">
              <label for="cubeSize">–†–∞–∑–º–µ—Ä —Å–µ—Ç–∫–∏:</label>
              <input type="number" id="cubeSize" min="1" max="10000" value="8">
              <span class="value-display" id="sizeValue">8√ó8√ó8</span>
            </div>
          </div>
        </div>

        <div class="input-section">
          <h3>üß≤ –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞–≥–Ω–∏—Ç–Ω–æ–≥–æ –ø–æ–ª—è</h3>
          <div class="input-group">
            <div class="input-group">
              <!--
              <label for="fieldAngle">–£–≥–æ–ª –ø–æ–ª—è (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):</label>
              <input type="range" id="fieldAngle" min="0" max="360" step="1" value="0" disabled>
              <span class="value-display" id="angleValue">0¬∞</span>
              -->
            </div>
          </div>
          <div class="axis-controls">
            <div class="axis-canvas-container">
              <div class="field-direction-text">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—è:</div>
              <div class="field-direction-arrow" id="fieldArrow" style="font-size:36px; font-weight:700; margin-top:6px;">¬∑</div>
              <div style="margin-top:8px;">
                <button id="resetFieldBtn" class="btn-reset" onclick="resetField()">–°–±—Ä–æ—Å–∏—Ç—å –ø–æ–ª–µ –≤ 0</button>
              </div>
            </div>
          </div>
        </div>

        <div class="input-section">
          <h3>‚è±Ô∏è –°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏</h3>
          <div class="input-group">
            <div class="input-group inline">
              <label for="framePause">–ü–∞—É–∑–∞ –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏ (–º—Å):</label>
              <input type="number" id="framePause" min="0" max="5000" value="100">
              <span class="value-display" id="pauseValue">100 –º—Å</span>
            </div>
          </div>
        </div>

        <div class="input-section">
          <h3>üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
          <div class="button-group">
            <button id="startBtn" class="btn-primary" onclick="startSimulation()">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å</button>
            <button id="pauseBtn" class="btn-secondary" onclick="togglePause()" disabled>‚è∏Ô∏è –ü–∞—É–∑–∞</button>
            <button id="resetBtn" class="btn-reset" onclick="resetSimulation()">üîÑ –°–±—Ä–æ—Å</button>
          </div>
          <div class="step-counter">
            –®–∞–≥: <span id="stepCounter">0</span>
          </div>
        </div>
      </div>

    </div>

      <div class="results-panel stats-panel">
        <h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h3>
        <div class="stats-grid">
          <div class="stat-item">
            <div class="stat-label">–≠–Ω–µ—Ä–≥–∏—è (–≤ —É—Å–ª–æ–≤–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü–∞—Ö)</div>
            <div class="stat-value" id="energyValue">-</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–ù–∞–º–∞–≥–Ω–∏—á–µ–Ω–Ω–æ—Å—Ç—å</div>
            <div class="stat-value" id="magnetizationValue">-</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞</div>
            <div class="stat-value" id="tempStatValue">-</div>
          </div>
          <div class="stat-item">
            <div class="stat-label">–ü–æ–ª–µ</div>
            <div class="stat-value" id="fieldStatValue">-</div>
          </div>
        </div>
      </div>
    </div>

    <script src="{{ url_for('static', path='/js/physics/M10.js') }}" defer></script>
</body>
</html>

