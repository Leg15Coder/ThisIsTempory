{% extends "base.html" %}

{% block content %}
<div class="shop-container">
    <div class="shop-header">
        <h1 class="shop-title">–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∫–≤–µ—Å—Ç—ã</h1>
        <div class="currency-display">
            üîÑ –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–≤–µ—Å—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
        </div>
    </div>

    <div class="form-section">
        <h2>–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω</h2>
        <form id="createTemplateForm" class="quest-form">
            <div class="form-group-modern">
                <label class="label-small">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                <input type="text" name="title" class="input-modern" required>
            </div>
            <div class="form-group-modern">
                <label class="label-small">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                <textarea name="description" rows="2" class="textarea-modern"></textarea>
            </div>
            <div class="form-row">
                <div class="form-group-modern half">
                    <label class="label-small">–ù–∞–≥—Ä–∞–¥–∞</label>
                    <input type="number" name="cost" class="input-modern" min="0" value="0" required>
                </div>
                <div class="form-group-modern half">
                    <label class="label-small">–†–µ–¥–∫–æ—Å—Ç—å</label>
                    <select name="rarity" class="select-modern">
                        <option value="–û–±—ã—á–Ω—ã–π">–û–±—ã—á–Ω—ã–π</option>
                        <option value="–ù–µ–æ–±—ã—á–Ω—ã–π">–ù–µ–æ–±—ã—á–Ω—ã–π</option>
                        <option value="–†–µ–¥–∫–∏–π">–†–µ–¥–∫–∏–π</option>
                        <option value="–≠–ø–∏—á–µ—Å–∫–∏–π">–≠–ø–∏—á–µ—Å–∫–∏–π</option>
                        <option value="–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π">–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group-modern half">
                    <label class="label-small">–¢–∏–ø –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è</label>
                    <select name="recurrence_type" class="select-modern" id="tplRecurrenceType">
                        <option value="daily">–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</option>
                        <option value="weekly">–ü–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏</option>
                        <option value="interval">–ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–≤–∞–ª</option>
                    </select>
                </div>
                <div class="form-group-modern half">
                    <label class="label-small">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (—á–∞—Å—ã)</label>
                    <input type="number" name="duration_hours" class="input-modern" min="1" value="24">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group-modern half">
                    <label class="label-small">–î–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞</label>
                    <input type="date" name="start_date" class="input-modern" id="tplStartDate">
                </div>
                <div class="form-group-modern half">
                    <label class="label-small">–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞</label>
                    <input type="time" name="start_time" class="input-modern" id="tplStartTime">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group-modern half">
                    <label class="label-small">–ü–æ–≤—Ç–æ—Ä—è—Ç—å –¥–æ –¥–∞—Ç—ã</label>
                    <input type="date" name="end_date" class="input-modern" id="tplEndDate">
                </div>
                <div class="form-group-modern half">
                    <label class="label-small">–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
                    <input type="time" name="end_time" class="input-modern" id="tplEndTime">
                </div>
            </div>

            <div class="form-group-modern" id="tplWeekdays" style="display:none;">
                <label class="label-small">–î–Ω–∏ –Ω–µ–¥–µ–ª–∏</label>
                <div class="weekdays-selector">
                    <label><input type="checkbox" name="weekdays" value="0"> –ü–Ω</label>
                    <label><input type="checkbox" name="weekdays" value="1"> –í—Ç</label>
                    <label><input type="checkbox" name="weekdays" value="2"> –°—Ä</label>
                    <label><input type="checkbox" name="weekdays" value="3"> –ß—Ç</label>
                    <label><input type="checkbox" name="weekdays" value="4"> –ü—Ç</label>
                    <label><input type="checkbox" name="weekdays" value="5"> –°–±</label>
                    <label><input type="checkbox" name="weekdays" value="6"> –í—Å</label>
                </div>
            </div>

            <div class="form-group-modern" id="tplInterval" style="display:none;">
                <label class="label-small">–ò–Ω—Ç–µ—Ä–≤–∞–ª (—á–∞—Å—ã)</label>
                <input type="number" name="interval_hours" class="input-modern" min="1" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 12">
            </div>

            <button type="submit" class="btn-create-quest">–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
        </form>
    </div>

    <div class="form-section">
        <h2>–í–∞—à–∏ —à–∞–±–ª–æ–Ω—ã</h2>
        <div id="templateList"></div>
        <div id="templateEmpty" class="empty-state" style="display:none;">–ü–æ–∫–∞ –Ω–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤</div>
    </div>
</div>

<script src="{{ url_for('static', path='js/quest_templates.js') }}" defer></script>
{% endblock %}
