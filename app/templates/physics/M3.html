<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∏—Å—Å–∏—è –Ω–∞ –ú–∞—Ä—Å</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/physics.css') }}">
</head>
<body>
    <div class="container">
        <h1>üöÄ –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–µ—Ç–∞ –Ω–∞ –ú–∞—Ä—Å</h1>

        <div class="mission-control">
            <div class="input-panel">
                <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∏—Å—Å–∏–∏</h2>

                <div class="input-section">
                    <h3>–ó–∞–ø—É—Å–∫ —Å –ó–µ–º–ª–∏</h3>
                    <div class="input-group">
                        <label for="initial_mass">–ù–∞—á–∞–ª—å–Ω–∞—è –º–∞—Å—Å–∞ (–∫–≥):</label>
                        <input type="number" id="initial_mass" value="1000000" step="1000">
                    </div>
                    <div class="input-group">
                        <label for="thrust">–¢—è–≥–∞ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π (–ù):</label>
                        <input type="number" id="thrust" value="20000000" step="100000">
                    </div>
                    <div class="input-group">
                        <label for="specific_impulse">–£–¥–µ–ª—å–Ω—ã–π –∏–º–ø—É–ª—å—Å (—Å):</label>
                        <input type="number" id="specific_impulse" value="350" step="10">
                    </div>
                </div>

                <div class="input-section">
                    <h3>–ü–µ—Ä–µ–ª–µ—Ç –∫ –ú–∞—Ä—Å—É</h3>
                    <div class="input-group">
                        <label for="departure_date">–î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞:</label>
                        <input type="date" id="departure_date" value="2024-01-01">
                    </div>
                    <div class="input-group">
                        <label for="transfer_time">–í—Ä–µ–º—è –ø–µ—Ä–µ–ª–µ—Ç–∞ (–¥–Ω–µ–π):</label>
                        <input type="number" id="transfer_time" value="200" step="10">
                    </div>
                </div>

                <div class="input-section">
                    <h3>–ü–æ—Å–∞–¥–∫–∞ –Ω–∞ –ú–∞—Ä—Å</h3>
                    <div class="input-group">
                        <label for="landing_mass">–ú–∞—Å—Å–∞ –ø—Ä–∏ –ø–æ—Å–∞–¥–∫–µ (–∫–≥):</label>
                        <input type="number" id="landing_mass" value="10000" step="100">
                    </div>
                    <div class="input-group">
                        <label for="landing_thrust">–¢—è–≥–∞ –ø–æ—Å–∞–¥–æ—á–Ω—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π (–ù):</label>
                        <input type="number" id="landing_thrust" value="500000" step="10000">
                    </div>
                </div>

                <div class="input-section">
                    <h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                    <div class="checkbox-group">
                        <input type="checkbox" id="include_atmosphere">
                        <label for="include_atmosphere">–£—á–µ—Ç –∞—Ç–º–æ—Å—Ñ–µ—Ä—ã –ó–µ–º–ª–∏</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="include_planetary_gravity">
                        <label for="include_planetary_gravity">–£—á–µ—Ç –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏ –ø–ª–∞–Ω–µ—Ç</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="include_orientation">
                        <label for="include_orientation">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–µ–π</label>
                    </div>
                </div>

                <div class="button-group">
                    <button onclick="startMission()">–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏—Å—Å–∏—é</button>
                    <button onclick="pauseMission()" class="btn-pause">–ü–∞—É–∑–∞</button>
                    <button onclick="resetMission()" class="btn-reset">–°–±—Ä–æ—Å</button>
                </div>
            </div>

            <div class="results-panel">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏—Å—Å–∏–∏</h2>
                <div id="mission-stats">
                    <div class="stat-item">
                        <span class="stat-label">–û–±—â–µ–µ –≤—Ä–µ–º—è:</span>
                        <span class="stat-value" id="total-time">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ŒîV:</span>
                        <span class="stat-value" id="delta-v">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–ò–∑—Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–æ —Ç–æ–ø–ª–∏–≤–∞:</span>
                        <span class="stat-value" id="fuel-consumed">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–ú–∞–∫—Å. —É—Å–∫–æ—Ä–µ–Ω–∏–µ:</span>
                        <span class="stat-value" id="max-acceleration">-</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Å–∞–¥–∫–∏:</span>
                        <span class="stat-value" id="arrival-velocity">-</span>
                    </div>
                </div>

                <div class="phase-indicators">
                    <div class="phase-indicator" id="phase-launch">
                        <span>üöÄ –ó–∞–ø—É—Å–∫</span>
                    </div>
                    <div class="phase-indicator" id="phase-transfer">
                        <span>üåå –ü–µ—Ä–µ–ª–µ—Ç</span>
                    </div>
                    <div class="phase-indicator" id="phase-landing">
                        <span>üî¥ –ü–æ—Å–∞–¥–∫–∞</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="visualization">
            <h2>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–∏—Å—Å–∏–∏</h2>

            <div class="animation-controls">
                <label for="animation-speed">–°–∫–æ—Ä–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏:</label>
                <input type="range" id="animation-speed" min="1" max="100" value="10">
                <span id="speed-value">10x</span>

                <select id="view-mode">
                    <option value="solar">–°–æ–ª–Ω–µ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</option>
                    <option value="launch">–ó–∞–ø—É—Å–∫</option>
                    <option value="landing">–ü–æ—Å–∞–¥–∫–∞</option>
                </select>
            </div>

            <div class="canvas-container">
                <canvas id="missionCanvas" width="1000" height="600"></canvas>
            </div>

            <div class="real-time-data">
                <h3>–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                <div class="real-time-stats">
                    <span>–í—ã—Å–æ—Ç–∞: <span id="current-altitude">-</span> –∫–º</span>
                    <span>–°–∫–æ—Ä–æ—Å—Ç—å: <span id="current-velocity">-</span> –∫–º/—Å</span>
                    <span>–ú–∞—Å—Å–∞: <span id="current-mass">-</span> –∫–≥</span>
                    <span>–í—Ä–µ–º—è: <span id="current-time">-</span> –¥–Ω–µ–π</span>
                </div>
            </div>
        </div>

        <div class="charts">
            <div class="chart-container">
                <h2>–°–∫–æ—Ä–æ—Å—Ç—å –∏ –º–∞—Å—Å–∞</h2>
                <canvas id="velocityMassChart"></canvas>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', path='/js/physics/M3.js') }}" defer></script>
</body>
</html>